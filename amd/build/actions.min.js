define("block_teacher_checklist/actions",["jquery","core/ajax","core/notification","core/str"],(function($,Ajax,Notification,Str){return{init:function(){function processUpdates(itemsData){var calls=itemsData.map((function(data){return{methodname:"block_teacher_checklist_toggle_item_status",args:data}}));Ajax.call(calls)[calls.length-1].done((function(){window.location.reload()})).fail(Notification.exception)}$("body").on("click",'[data-action="toggle-status"]',(function(e){e.preventDefault();var btn=$(this);processUpdates([{courseid:btn.data("courseid"),type:btn.data("type"),subtype:btn.data("subtype"),docid:btn.data("docid"),status:btn.data("status")}])})),$(".select-all-toggle").on("change",(function(){var targetList=$(this).data("target"),isChecked=$(this).is(":checked");$(targetList).find(".item-checkbox").prop("checked",isChecked).trigger("change")})),$(".item-checkbox").on("change",(function(){var container=$(this).closest(".tab-pane"),totalChecked=container.find(".item-checkbox:checked").length,bulkContainer=container.find(".bulk-actions-container");totalChecked>0?bulkContainer.fadeIn(200):(bulkContainer.fadeOut(200),container.find(".select-all-toggle").prop("checked",!1))})),$(".bulk-btn").on("click",(function(e){e.preventDefault();var btn=$(this),newStatus=btn.data("action"),courseId=btn.data("courseid"),container=btn.closest(".tab-pane"),requests=[];container.find(".item-checkbox:checked").each((function(){var chk=$(this);requests.push({courseid:courseId,type:chk.data("type"),subtype:chk.data("subtype"),docid:chk.data("docid"),status:newStatus})})),requests.length>0?processUpdates(requests):Str.get_strings([{key:"notice",component:"moodle"},{key:"no_items_selected",component:"block_teacher_checklist"}]).done((function(s){Notification.alert(s[0],s[1],"Ok")}))})),$(".toggle-scan-switch").on("change",(function(){var isChecked=$(this).is(":checked");processUpdates([{courseid:$(this).data("courseid"),type:"config",subtype:"scan_enabled",docid:0,status:isChecked?1:0}])}))}}}));

//# sourceMappingURL=actions.min.js.map